<h2>Description</h2>

<p>In Stage Five, implement a new CLI sub-command:</p>

<ul>
  <li>To crawl existing blog sites listed in the database's <code>blogs</code> table. Discover new blog posts and insert their entries into the <code>posts</code> table within the database. Additionally send email notification about the new blog-posts discovered to the user.</li>
</ul>

<h2>Objectives</h2>

<p>In this stage, you need to implement <code>sync --conf</code> sub-command for this CLI. This sub-command should do the following:</p>

<ul>
  <li>Take the config filename as input, parse the YAML file(which you implemented in stage 1)</li>
  <li>Fetch all the blog sites from the blogs table</li>
  <li>Crawl each of the blog site in the watch list, to discover if new blog posts have been added to that blog site.</li>
  <li>Insert an entry into the posts table for every new blog post discovered.</li>
  <li>If new blog-posts are discovered for a blog site, update the last_visited column in the blogs table for that blog site with last blog post that was just discovered.</li>
  <li>Additionally send an email notification to the user for each new blog-post that is discovered.</li>
</ul>

<h2>Examples</h2>

<p>In this stage your program will be tested for the sub-command, <code>sync --conf "credentials.yaml"</code>.</p>

<p>When the command <code>blognotifier sync --conf "credentials.yaml"</code> is run, your program must do the following:</p>

<ul>
  <li>Parse the the file <code>credentials.yaml</code>, and store the values in some variables to be used later for sending email notification.</li>
  <li>Crawl each of the blog site in the watch list, to discover if new blog posts have been added to that blog site.</li>
  <li>Insert an entry into the posts table for every new blog post discovered.</li>
  <li>If new blog-posts are discovered for a blog site, update the last_visited column in the blogs table for that blog site with last blog post that was just discovered.</li>
  <li>Additionally send an email notification to the user for each new blog-post that is discovered.</li>
</ul>

<p>Please reuse the code from the previous stages. All the sub-commands from the previous stages will also be tested. Specifically we will test the following sub-commands</p>

<ul>
  <li><code>--migrate</code></li>
  <li><code>--explore</code></li>
  <li><code>--list</code></li>
  <li><code>--crawl</code></li>
  <li><code>listPosts --site</code></li>
  <li><code>sync --conf</code></li>
</ul>